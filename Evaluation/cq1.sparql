PREFIX etype: <http://knowdive.disi.unitn.it/etype#>
PREFIX omgeo: <http://www.ontotext.com/owlim/geo#>

SELECT ?name ?leisure ?sportName
WHERE {
    BIND("Paolo" AS ?queryName)
    BIND(2 AS ?walkingDistance)
    
    ?user etype:name_GID-2 ?userName .
    ?user etype:latitude_GID-46263 ?userLat .
    ?user etype:longitude_GID-46270 ?userLon .
    
    ?facility etype:leisure_GID-13017 ?leisure .
    ?facility etype:name_GID-2 ?name .
    ?facility etype:latitude_GID-46263 ?facilityLat .
    ?facility etype:longitude_GID-46270 ?facilityLon .
    ?facility etype:has_sport_GID-13036 ?sport .
    ?sport etype:type_of_sport_GID-13028 ?sportName .
    
    FILTER(?userName = ?queryName)
    BIND(omgeo:distance(?userLat, ?userLon, ?facilityLat, ?facilityLon) AS ?distance)
    FILTER(?distance < ?walkingDistance)
}